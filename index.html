
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Will Anderson</title>
	<meta name="author" content="Will Anderson">

	
	<meta name="description" content="I recently ran into a new (to me) error in React Native. 1
Invariant Violation: onlyChild must be passed a children with exactly one child I couldn& &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Will Anderson" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.ico" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
	
</head>

<body>
	<header id="header" class="inner"><h1><a href="/">Will Anderson</a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/plugins">WordPress Plugins</a></li>
	<li><a href="/node-modules">Node Modules</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/plugins">WordPress Plugins</a></li>
	<li><a href="/node-modules">Node Modules</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="https://www.google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:willi.am">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		<a class="twitter" href="http://twitter.com/itsananderson" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/itsananderson" title="GitHub">GitHub</a>
		
    
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
    
	</div>
	<form class="search" action="https://www.google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:willi.am">
	</form>
</nav>

</header>
	
		
	
	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2015/05/08/react-native-fix-for-invariant-violation-onlychild-must-be-passed-a-children-with-exactly-one-child/">
		
			React Native: Fix for &#8220;Invariant Violation: onlyChild Must Be Passed a Children With Exactly One Child&#8221;</a>
	</h2>
	<div class="entry-content">
		<p>I recently ran into a new (to me) error in React Native.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Invariant Violation: onlyChild must be passed a children with exactly one child</span></code></pre></td></tr></table></div></figure>


<p>I couldn&rsquo;t find any documentation on it, so I thought I&rsquo;d share what I figured out.</p>

<p>All of the &ldquo;Touchable&rdquo; components in React Native do an <code>onlyChild</code> check on their children, which throws an error unless there&rsquo;s exactly one child.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="k">return</span> <span class="p">(</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="nx">TouchableHighlight</span><span class="o">&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="err">/TouchableHighlight&gt;</span>
</span><span class='line'><span class="p">);</span> <span class="c1">// Error: onlyChild must be passed a children with exactly one child</span>
</span></code></pre></td></tr></table></div></figure>


<p>Adding a child to the TouchableHighlight will fix the error</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="k">return</span> <span class="p">(</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="nx">TouchableHighlight</span><span class="o">&gt;</span>
</span><span class='line'>      <span class="o">&lt;</span><span class="nx">Text</span><span class="o">&gt;</span><span class="nx">foo</span><span class="o">&lt;</span><span class="err">/Text&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="err">/TouchableHighlight&gt;</span>
</span><span class='line'><span class="p">);</span> <span class="c1">// OK</span>
</span></code></pre></td></tr></table></div></figure>


<p>But adding multiple children will also cause an error</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="k">return</span> <span class="p">(</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="nx">TouchableHighlight</span><span class="o">&gt;</span>
</span><span class='line'>      <span class="o">&lt;</span><span class="nx">Text</span><span class="o">&gt;</span><span class="nx">foo</span><span class="o">&lt;</span><span class="err">/Text&gt;</span>
</span><span class='line'>      <span class="o">&lt;</span><span class="nx">Text</span><span class="o">&gt;</span><span class="nx">bar</span><span class="o">&lt;</span><span class="err">/Text&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="err">/TouchableHighlight&gt;</span>
</span><span class='line'><span class="p">);</span> <span class="c1">// Error: onlyChild must be passed a children with exactly one child</span>
</span></code></pre></td></tr></table></div></figure>


<p>A quick search through the React Native code reveals the components that verify onlyChild:</p>

<ul>
<li>TouchableBounce</li>
<li>TouchableHighlight</li>
<li>TouchableOpacity</li>
<li>TouchableWithFeedback</li>
</ul>


<p>Hopefully React Native can eventually provide a better message for this issue, but until then, at least this blog post should pop up when you Google the error.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2015-05-08T07:37:37-07:00" pubdate data-updated="true">May 8<span>th</span>, 2015</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/react/'>React</a>, <a class='category' href='/blog/categories/react-native/'>React Native</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2015/05/07/react-this-dot-state-is-undefined/">
		
			React: this.state Is Undefined</a>
	</h2>
	<div class="entry-content">
		<p>I ran into this today, so I&rsquo;m writing it down in case it helps someone else.</p>

<p>Running something like the following, I found that <code>this.state</code> was undefined during render.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kr">class</span> <span class="nx">MyComponent</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">getInitialState</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">return</span> <span class="p">{</span> <span class="nx">count</span><span class="o">:</span> <span class="mi">0</span> <span class="p">};</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">count</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/div&gt;; /</span><span class="o">/</span> <span class="nb">Error</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="nx">is</span> <span class="kc">undefined</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>After a little searching, I found the <a href="https://facebook.github.io/react/blog/2015/01/27/react-v0.13.0-beta-1.html#es6-classesa">release notes for React 0.13.0-beta-1</a>, where they explained that ES6 classes should set initial state in the constructor, rather than defining a <code>getInitialState</code> method.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kr">class</span> <span class="nx">MyComponent</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">count</span><span class="o">:</span> <span class="mi">0</span> <span class="p">};</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">count</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/div&gt;; /</span><span class="o">/</span> <span class="nx">Yay</span><span class="p">,</span> <span class="nx">it</span> <span class="nx">works</span><span class="o">!</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Pretty simple, but not immediately obvious if you don&rsquo;t know about it.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2015-05-07T23:42:13-07:00" pubdate data-updated="true">May 7<span>th</span>, 2015</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/react/'>React</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2015/05/07/configuring-an-existing-octopress-site-on-a-new-machine/">
		
			Configuring an Existing Octopress Site on a New Machine</a>
	</h2>
	<div class="entry-content">
		<p>Every time I set up a new machine, I have to figure out how write posts on my <a href="http://octopress.org">Octopress</a> blog. I usually follow <a href="https://github.com/colca/colca.github.com/blob/source/source/_posts/2014-01-27-octopress-sync-octopress-on-different-machines.markdown">these instructions</a>, but have to tweak them slightly to work for me. I fanally decided to write down the exact steps I use so I don&rsquo;t have to figure them out every time. Hopefully it&rsquo;s useful for someone else as well.</p>

<h3>Step 1 &ndash; Run Octopress setup</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git clone git://github.com/imathis/octopress.git octopress
</span><span class='line'>cd octopress    # If you use RVM, You'll be asked if you trust the .rvmrc file (say yes).
</span><span class='line'>ruby --version  # Should report Ruby 1.9.3
</span><span class='line'>gem install bundler # On Linux/OSX you may need to run "sudo gem install bundler" instead
</span><span class='line'>bundle install
</span><span class='line'>rake install
</span><span class='line'>rake setup_github_pages</span></code></pre></td></tr></table></div></figure>


<p>The main purpose of setting up Octopress like this is to get the main layout configured correctly.</p>

<h3>Step 2 &ndash; Reset to your blog&rsquo;s branch tips</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git fetch origin source
</span><span class='line'>git branch --set-upstream-to=origin/source source
</span><span class='line'>git reset --hard origin/source
</span><span class='line'>cd _deploy
</span><span class='line'>git fetch origin master
</span><span class='line'>git branch --set-upstream-to=origin/master master
</span><span class='line'>git reset --hard origin master</span></code></pre></td></tr></table></div></figure>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2015-05-07T22:59:57-07:00" pubdate data-updated="true">May 7<span>th</span>, 2015</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/octopress/'>Octopress</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2015/03/27/obvious-code/">
		
			Obvious Code</a>
	</h2>
	<div class="entry-content">
		<p>A week or two ago, I got this feedback on a code review:</p>

<blockquote><p>You&rsquo;re using <code>foo ? foo : ""</code> here.
It would be shorter and more obvious if you wrote it as <code>foo || ""</code></p></blockquote>

<p>This was valid feedback, and I updated the code.</p>

<p>After I&rsquo;d checked in my changes, I got the following IM from a senior member of my team:</p>

<blockquote><p>I see you did <code>foo || ""</code>? What does the <code>||</code> mean?</p></blockquote>

<p>:)</p>

<p>This was a good reminder of two things:</p>

<ul>
<li>&ldquo;Obvious code&rdquo; is a subjective concept</li>
<li>No matter how experienced you are with something, you&rsquo;ll still find blind spots from time to time</li>
</ul>


<p><em>P.S.</em> If that syntax is also new to you, it&rsquo;s taking advantage of how JavaScript does &ldquo;or&rdquo;.
A JavaScript <em>or</em> returns the first <em>truthy</em> value, or the last value if none are truthy:</p>

<p>e.g. <code>(false || 0) === 0</code> and <code>(0 || false) === false</code> and <code>(foo || "") === ""</code> (assuming foo is &ldquo;falsey&rdquo;)</p>

<p>Many JavaScript developers use this behavior as a shortcut for setting default values, because <code>null</code> and <code>undefined</code> are falsey.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2015-03-27T04:10:17-07:00" pubdate data-updated="true">Mar 27<span>th</span>, 2015</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/javascript/'>JavaScript</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2015/02/27/dynamically-configure-your-git-email/">
		
			Dynamically Configure Your Git Email</a>
	</h2>
	<div class="entry-content">
		<blockquote><p>This post is the second in a series on tuning your Git environment.
The first post on <a href="http://willi.am/blog/2015/02/19/customize-your-git-log-format/">customizing your git log</a> isn&rsquo;t a prerequisite, but may be useful.</p></blockquote>

<h2>Managing Multiple Commit Emails</h2>

<p>If you use Git at work and in your personal time, managing the email you use for commit messages can be tricky.</p>

<p>When my previous team first started using Git, I had several instances where I accidentally committed to our team repository with my personal email address.
This wasn&rsquo;t a big problem, but it made the repository history look a little messy, and it meant my picture didn&rsquo;t show up properly in the UI tools.</p>

<h2>Simple Fix: Manually Configure Email Per Repository</h2>

<p>My first solution was to remove the global configuration for my email address:</p>

<p><code>git config --global --unset user.email</code></p>

<p>This way when I committed into a fresh repository, I&rsquo;d get a warning that I hadn&rsquo;t configured my email.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Your name and email address were configured automatically based
</span><span class='line'>on your username and hostname. Please check that they are accurate.
</span><span class='line'>You can suppress this message by setting them explicitly:
</span><span class='line'>
</span><span class='line'>    git config --global user.name "Your Name"
</span><span class='line'>    git config --global user.email you@example.com
</span><span class='line'>
</span><span class='line'>After doing this, you may fix the identity used for this commit with:
</span><span class='line'>
</span><span class='line'>    git commit --amend --reset-author
</span><span class='line'>
</span><span class='line'> 1 file changed, 0 insertions(+), 0 deletions(-)
</span><span class='line'> create mode 100644 foo1</span></code></pre></td></tr></table></div></figure>


<p>Then I just had to configure my email <strong>locally</strong> for that repository:</p>

<p><code>git config user.email will@itsananderson.com</code></p>

<p>And update the commit with the right author data:</p>

<p><code>git commit --amend --reset-author</code></p>

<h2>Medium Fix: Add Some Git Aliases</h2>

<p>Running through those steps for every new repository quickly becomes tedious, especially when you like to spin up GitHub projects for every idea that pops into your head.</p>

<p>To simplify things, I first created an alias for the <code>git commit --amend --reset-author</code> command.
I called it <code>cara</code> for &ldquo;Commit Amend Reset Author&rdquo;, but you could call it whatever you&rsquo;ll remember.
With that alias, it&rsquo;s super quick to fix a commit if I create it with the wrong author email.</p>

<p>The next thing I aliased was a script to guess the author email based on the repository URL.
I created a script and put it in <code>~/.git-scripts/email-guess.sh</code> (again, call it whatever you&rsquo;ll remember).</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="c">#!/bin/bash</span>
</span><span class='line'>
</span><span class='line'><span class="nv">remote</span><span class="o">=</span><span class="sb">`</span>git remote -v | awk <span class="s1">&#39;/\(push\)$/ {print $2}&#39;</span><span class="sb">`</span>
</span><span class='line'><span class="nv">email</span><span class="o">=</span>will@itsananderson.com <span class="c"># default</span>
</span><span class='line'>
</span><span class='line'><span class="k">if</span> <span class="o">[[</span> <span class="nv">$remote</span> <span class="o">==</span> *github.com:Microsoft* <span class="o">]]</span>; <span class="k">then</span>
</span><span class='line'><span class="k">  </span><span class="nv">email</span><span class="o">=</span>wiand@microsoft.com
</span><span class='line'><span class="k">fi</span>
</span><span class='line'><span class="k">if</span> <span class="o">[[</span> <span class="nv">$remote</span> <span class="o">==</span> *itsananderson.visualstudio.com* <span class="o">]]</span>; <span class="k">then</span>
</span><span class='line'><span class="k">  </span><span class="nv">email</span><span class="o">=</span>will@codeawhile.com
</span><span class='line'><span class="k">fi</span>
</span><span class='line'>
</span><span class='line'><span class="nb">echo</span> <span class="s2">&quot;Configuring user.email as $email&quot;</span>
</span><span class='line'>git config user.email <span class="nv">$email</span>
</span></code></pre></td></tr></table></div></figure>


<p>The script isn&rsquo;t exactly a masterpiece, but it gets the job done.
<a href="https://github.com/itsananderson/git-better/blob/master/itsananderson/git-scripts/email-guess.sh">Feel free to copy and modify it to meet your needs</a>.</p>

<p>For the script to be useful, I aliased it as <code>git email-guess</code>:</p>

<p><code>git config --global alias.email-guess \!". ~/.git-scripts/email-guess.sh" ""</code></p>

<p>So now when I clone a new repository, I just <code>git email-guess</code> to set the email.
If I forgot to do it before my first commit, I follow it with <code>git cara</code> to fix that commit&rsquo;s author.</p>

<h2>Advanced Fix: Full Automation</h2>

<p>Reducing the work of author email management to only 1 or 2 commands is nice, but I wanted to eliminate it altogether.
This is where <a href="http://www.git-scm.com/book/en/v2/Customizing-Git-Git-Hooks">Git hooks</a> came in handy.</p>

<p>You can configure a Git hook manually for each repository, but again, we want this to be automated.
To do that, you&rsquo;ll want to modify the template hooks Git uses when it creates new repositories.</p>

<p>On Windows, these hook templates are located somewhere near <code>C:\Program Files (x86)\Git\share\git-core\templates\hooks</code>.
On OS X and Linux, they should be somewhere under the Git directory.
Running <code>which git</code> or <code>cat &#96;which git&#96;</code> should point you in the right direction.</p>

<p>Once you locate the template hooks directory, create a file called <code>post-checkout</code> with the following contents:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="c">#!/bin/bash</span>
</span><span class='line'>
</span><span class='line'><span class="k">if</span> <span class="o">[[</span> <span class="nv">$1</span> <span class="o">==</span> 00000000000* <span class="o">]]</span>; <span class="k">then</span>
</span><span class='line'><span class="k">  </span>git email-guess
</span><span class='line'><span class="k">fi</span>
</span></code></pre></td></tr></table></div></figure>


<p>All this does is test whether Git checked out a freshly cloned repository (thus &ldquo;previous SHA&rdquo; is all zeros).
If so, it runs <code>git email-guess</code> to set up the correct author email.</p>

<h2>Wrapping Up</h2>

<p>So that&rsquo;s the full rundown of my email configuration setup.
As I said in the previous post, you should take this as an example that you can customize it to fit your needs.</p>

<p>You can find most of my Git configuration in my <a href="https://github.com/itsananderson/git-better">git-better</a> repository on GitHub.</p>

<p>As one example, there are many other Git hooks that you can take advantage of.
<a href="http://www.git-scm.com/book/en/v2/Customizing-Git-Git-Hooks">Take a look</a> to see if there are any that you could use to automate a frequent task.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2015-02-27T14:29:42-08:00" pubdate data-updated="true">Feb 27<span>th</span>, 2015</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/git/'>Git</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2015/02/19/customize-your-git-log-format/">
		
			Customize Your Git Log Format</a>
	</h2>
	<div class="entry-content">
		<blockquote><p>Over the last few months, I&#8217;ve been learning about woodworking in my spare time. As I&#8217;ve read articles and watched YouTube videos, I&#8217;ve noticed that the most successful woodworkers have a detailed knowledge of their tools. Not only do they know how to use and maintain the tools of their craft, but they&#8217;re not afraid to modify them to better serve their needs. When they need a custom tool or jig to speed up their work, they make one. Watching and reading about these craftsmen and their tools, I&#8217;ve noticed parallels in my full time craft: Software Development.</p><p>In the next few posts, I&#8217;ll share some of the software &#8220;jigs&#8221; I&#8217;ve created to make myself more efficient. The primary focus posts will be configuration and customization of Git.</p></blockquote>


<h2>Git Log: Your Own Personal Journal</h2>

<p>If you&rsquo;re not already aware, your Git log is a critical tool for working with source control.
Because your memory&rsquo;s not perfect, a good log helps you recall what you&rsquo;ve done, and the motivation behind it.</p>

<p>I&rsquo;ve <a href="http://willi.am/blog/2014/05/06/git-for-devs-who-cant-commit-good/">written before</a> about writing good commit messages, as has David in his series <a href="http://www.davidruttka.com/blog/2014/06/04/committed-to-good-commits-messages/">&ldquo;Committed to Good Commits&rdquo;</a>.
If your commit logs are sprinkled with gems like &ldquo;did stuff&rdquo; and &ldquo;it finally works!&rdquo;, you&rsquo;ll want to check out those posts.</p>

<h2>Choose Your Details With <code>--format</code></h2>

<p>Depending on what you&rsquo;re looking for in your log, you may want different levels of detail.
The Git log documentation has a <a href="https://www.kernel.org/pub/software/scm/git/docs/git-log.html#_pretty_formats">full list of the built-in formats</a>.</p>

<p>For example, if you&rsquo;re trying to find the SHA for a recent change, you may just want to see the SHA and the commit subject for each commit.
In that case, <code>git log --format=oneline</code> or <code>git log --oneline</code> is what you need.</p>

<p><img src="http://itsananderson.blob.core.windows.net/post-images/git-log-oneline.png"></p>

<p>If you need verbose output, including the full message and author info, <code>--format=medium</code> is a good option.</p>

<p><img src="http://itsananderson.blob.core.windows.net/post-images/git-log-medium.png"></p>

<p>Finally, if you want every single detail from the commit, <code>--format=fuller</code> will give you that.</p>

<p><img src="http://itsananderson.blob.core.windows.net/post-images/git-log-fuller.png"></p>

<p>If you want to make any of these formats your default, you can do so with the following command:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git config --global format.pretty oneline <span class="c"># replace oneline with the format you want</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Limit Results With <code>-n</code></h2>

<p>If you only want to see the last few commits, you can use the <code>-n</code> flag.
The more verbose version is <code>-n &lt;number&gt;</code> (e.g. <code>-n 5</code> to show the last 5 commits).</p>

<p>Alternatively, you can use an even quicker shortcut.
Just use <code>-&lt;number&gt;</code>. For example: <code>git log -5</code> will show the last 5 commits.</p>

<h2>Fully Customize Your Log Output</h2>

<p>Depending on how you use your commit log, you may find that no built-in log format exactly fits your needs.
What I&rsquo;ve found is that the verbose formats are too hard to scan through, and the succinct ones don&rsquo;t have vital info.</p>

<p>To solve this problem, I created a custom log format, which I use almost exclusively.</p>

<p>You can configure my format with the following command:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git config --global format.pretty format:"%C(auto)%h %d%Creset %s%n%Cgreen%ad%Creset %aN &lt;%aE>%n"</span></code></pre></td></tr></table></div></figure>


<p>The output looks like this:</p>

<p><img src="http://itsananderson.blob.core.windows.net/post-images/git-log-custom.png"></p>

<p>This format also works with the <code>--graph</code> flag:</p>

<p><img src="http://itsananderson.blob.core.windows.net/post-images/git-log-graph-format.png"></p>

<p>What I like about this format is that it only uses three lines per commit, but it has all the information I care about.
I also inserted color codes for the various parts of the message, which makes it even easier to grok.</p>

<h2>In Conclusion</h2>

<p>Hopefully these examples give you some ideas about what you can do to customize your commit log.
Don&rsquo;t feel like you need to use my custom log format as-is.
The whole point is to customize it to fit your needs.</p>

<p>If you want to test out different custom formats quickly, you can pass them directly to <code>git log</code> like so:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git log --format=format:"%C(auto)%h %C(green)%aN%Creset %s"</span></code></pre></td></tr></table></div></figure>


<p><img src="http://itsananderson.blob.core.windows.net/post-images/git-log-custom-flag.png"></p>

<p>You can find the different placeholder options in the same <a href="https://www.kernel.org/pub/software/scm/git/docs/git-log.html#_pretty_formats">Pretty Formats</a> section of the Git Log documentation.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2015-02-19T14:29:06-08:00" pubdate data-updated="true">Feb 19<span>th</span>, 2015</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/git/'>Git</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2015/02/04/netgear-nighthawk-ac1900-r7000-review/">
		
			Netgear Nighthawk AC1900 (R7000) Review</a>
	</h2>
	<div class="entry-content">
		<p>I bought a new Wi-Fi router about a year ago, and I&rsquo;ve been so happy with it that I decided to write a review.</p>

<h2>The Goods</h2>

<p>Netgear has a truly impressive lineup of high-quality routers in their Nighthawk series.</p>

<p>When I purchased the Nighthawk R7000, it was the only Nighthawk available, but now there are three options.</p>

<h3>Nighthawk AC1900 (R7000)</h3>

<p><a href="http://www.amazon.com/gp/product/B00F0DD0I6?ie=UTF8&amp;camp=213733&amp;creative=393185&amp;creativeASIN=B00F0DD0I6&amp;linkCode=shr&amp;tag=itsananderson-20&amp;linkId=BOLZOX4JTJAYBWR2"><img src="http://itsananderson.blob.core.windows.net/post-images/nighthawk-r7000.jpg" alt="" /></a></p>

<p>This is the router I purchased.
At $176, it is now the cheapest one in the series, but don&rsquo;t let that fool you.
It&rsquo;s a beast.</p>

<h3>Nighthawk X4 AC2350 (R7500)</h3>

<p><a href="http://www.amazon.com/gp/product/B00MRVJY5C?ie=UTF8&amp;camp=213733&amp;creative=393177&amp;creativeASIN=B00MRVJY5C&amp;linkCode=shr&amp;tag=itsananderson-20&amp;linkId=VIPUHQZWDGEZTHRJ&amp;f_rd_m=ATVPDKIKX0DER&amp;pf_rd_s=center-2&amp;pf_rd_r=15AA64WNHBH3N7C3AG2S&amp;pf_rd_t=101&amp;pf_rd_p=2034761682&amp;pf_rd_i=9524228011"><img src="http://itsananderson.blob.core.windows.net/post-images/nighthawk-r7500.jpg" alt="" /></a></p>

<p>This model has an additional antena, a faster processor, and boasts improved range and faster bandwidth. It costs about $100 more than the R7000. This router uses a more advanced radio than the R7000 that apparently has higher throughput and reliability. That being said, I haven&rsquo;t experienced any problems with the throughput or reliability of the R7000.</p>

<h3>Nighthawk X6 AC3200 (R8000)</h3>

<p><a href="http://www.amazon.com/gp/product/B00KWHMR6G?ie=UTF8&amp;camp=213733&amp;creative=393177&amp;creativeASIN=B00KWHMR6G&amp;linkCode=shr&amp;tag=itsananderson-20&amp;linkId=62Y4XCEYOOJRGP7I&amp;f_rd_m=ATVPDKIKX0DER&amp;pf_rd_s=center-2&amp;pf_rd_r=15AA64WNHBH3N7C3AG2S&amp;pf_rd_t=101&amp;pf_rd_p=2034761682&amp;pf_rd_i=9524228011"><img src="http://itsananderson.blob.core.windows.net/post-images/nighthawk-r8000.jpg" alt="" /></a></p>

<p>This model has 6 antenas, which again boosts range and bandwidth.
It also supports a third Wi-Fi band, and assigns slower and faster devices to different bands, boosting performance for fast devices.
This model is only about $5 more than the R7500 ($105 more than the R7000), so if I were to upgrade, this is the model I would choose, because of it&rsquo;s significantly improved bandwidth.</p>

<h2>Price</h2>

<p>Here&rsquo;s a side-by-side comparison of the different models.</p>

<table>
    <tr><th>Model</th><th>Price</th></tr>
    <tr><td>Nighthawk (R7000)</td><td>$176</td></tr>
    <tr><td>&nbsp;Nighthawk X4 (R7500)</td><td>$279</td></tr>
    <tr><td>&nbsp;Nighthawk X6 (R8000)</td><td>$283</td></tr>
</table>


<p>When I first considered this router, the price was what gave me the most pause.
In the past, the most I&rsquo;d paid for a router was about $40, so this seemed like a significant price bump.
In the end, the only reason I bought it was because a friend had bought one and was very happy with it.</p>

<p>After using it for a year, I don&rsquo;t think I&rsquo;ll ever buy a &ldquo;cheap&rdquo; router again.
In the case of Wi-Fi routers, it seems that &ldquo;you get what you pay for&rdquo; holds true.</p>

<h2>Reliability and Performance</h2>

<p>My primary reason for upgrading my router was that my previous router, an older Linksys in the $30-40 range, didn&rsquo;t reliably reach the entire house.
After enough complaints from one roommate who&rsquo;s bedroom was in the far corner of the house, I decided to upgrade.</p>

<p>After installing the R7000, I&rsquo;ve stopped having router issues.
The signal reaches to every corner of the house, and has never cut out.</p>

<p>I eventually even swapped out the Ethernet cables in my two desktop computers, replacing them with this <a href="http://www.amazon.com/gp/product/B007GMPZ0A?ie=UTF8&amp;camp=213733&amp;creative=393185&amp;creativeASIN=B007GMPZ0A&amp;linkCode=shr&amp;tag=itsananderson-20&amp;linkId=E3Z7SM7WKO2M3UVP&amp;psc=1">Dual Band Wireless PCI Express adapter</a>.
Even after getting rid of the hard line, I get blazing fast speeds on both machines.</p>

<h2>Extra Features</h2>

<h3>Mounting Slots</h3>

<p>One of the things I took advantage of immediately was the slots on the back for mounting it on a wall.
Moving the router to a more central location in my downstairs hallway provided even better coverage throughout the house.</p>

<p><img src="http://itsananderson.blob.core.windows.net/post-images/mounted-router.jpg" alt="" /></p>

<p><small><em>(yes, that&rsquo;s a Raspberry Pi unceremoniously dangling from the router. Don&rsquo;t judge me)</em></small></p>

<p>Pro tip: make sure there&rsquo;s a power outlet within easy reach of your desired location <strong>before</strong> you start screwing in drywall anchors :)</p>

<h3>Web-based WPS Button</h3>

<p>Most routers support WPS. This allows new clients to connect to a network by clicking a physical button on the router.
This is convenient, but who wants to have to get up and walk over to the router.</p>

<p>Fortunately the Nighthawk web UI has a button you can push to do the same thing.</p>

<p><img src="http://itsananderson.blob.core.windows.net/post-images/soft-wps-button.png" alt="" /></p>

<p><img src="http://itsananderson.blob.core.windows.net/post-images/wifi-client-connected.png" alt="" /></p>

<h3>Easy Firmware Upgrade</h3>

<p>Most of my past routers have had a really archaic update process. Usually you have to manually flash the firmware and go through a convoluted restart process.</p>

<p>The R7000, on the other hand, just requires one or two clicks to install the update and automatically restart.</p>

<h3>And So Much More</h3>

<p>I usually install DD-WRT on any router I buy, but the R7000 has all the features I typically use, so I&rsquo;m just running the stock firmware.
Here are a few of the things I use most frequently:</p>

<ul>
<li>View attached devices</li>
<li>Port forwarding</li>
<li>Assign static LAN IPs</li>
<li>View traffic statistics</li>
</ul>


<h2>In Conclusion</h2>

<p>If you&rsquo;re tired of buying cheap routers that crap out after a year or two, I highly recommend the <a href="http://www.amazon.com/gp/product/B00F0DD0I6?ie=UTF8&amp;camp=213733&amp;creative=393185&amp;creativeASIN=B00F0DD0I6&amp;linkCode=shr&amp;tag=itsananderson-20&amp;linkId=BOLZOX4JTJAYBWR2">Nighthawk R7000</a>.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2015-02-04T22:13:14-08:00" pubdate data-updated="true">Feb 4<span>th</span>, 2015</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/review/'>Review</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/11/12/a-new-adventure-in-devdiv/">
		
			A New Adventure in DevDiv</a>
	</h2>
	<div class="entry-content">
		<p>Starting Monday, I&rsquo;m joining a new team at Microsoft.
Even though I&rsquo;m moving within the company, this will be a completely new experience, and I&rsquo;m pumped.</p>

<h2>What I&rsquo;ve Been Doing</h2>

<p>A year and a half ago, I joined a top-notch team working on <a href="http://blog.jongallant.com/2013/03/new-job-hiring-devs.html">a super secret Win8 app</a>.
A week after I started, our project was cancelled.
Oops :)</p>

<p>Our team was part of the Bing Ads org structure, so after a few months of limbo, we took ownership of the management and authoring tools for display ads.
Getting to work with this team of hand-picked developers has been an amazing experience.
I&rsquo;ve learned a ton about Agile methodologies, TDD, DevOps, and more.</p>

<p>I got to contribute to many projects in my time on the team, but here are the things I&rsquo;m most proud of:</p>

<ul>
<li>Building a RESTful API for storing, transforming, searching, and serving image and video assets</li>
<li>Building a purely static Angular SPA, backed by Node.js microservices</li>
<li>Converting most of the team&rsquo;s codebase to Git on Visual Studio Online, with CI through Octopus</li>
<li>Becoming a team resource for Git and JavaScript domain knowledge</li>
</ul>


<h2>What&rsquo;s Next</h2>

<p>I&rsquo;m joining the &ldquo;Client Platform Tools&rdquo; team inside DevDiv.
They work on the TypeScript language and tooling, as well as the JavaScript tooling in Visual Studio, and the F12 tools in Internet Explorer.</p>

<p>I&rsquo;ll be working on JavaScript profiling and diagnostics (think CPU/memory usage and network calls).
This will be a new experience for me.
I&rsquo;ve spent most of the last year and a half writing JavaScript for either the browser or Node, but now I&rsquo;ll be stepping a little deeper and working on the development tools themselves.
I&rsquo;ll also be jumping into TypeScript, the language in which most of the tools are written.</p>

<p>Thinking about everything I&rsquo;m going to be learning about and working on, I&rsquo;m excited, optimistic, and honestly a little scared.</p>

<p><strong>But that&rsquo;s good</strong>.</p>

<p>If changing teams didn&rsquo;t move me outside my comfort zone, it&rsquo;d be the wrong move.</p>

<p>I&rsquo;ve found that there are two things that get me pumped about what I&rsquo;m working on.
The first is that it&rsquo;s challenging.
I love learning, and it turns out working on problems I don&rsquo;t quite know how to solve is a great way to learn.</p>

<p>The second thing I love is doing work that makes a difference.
I don&rsquo;t only mean that in an altruistic sense, but in a broader, &ldquo;makes someone&rsquo;s job/life easier&rdquo; kind of way.
That&rsquo;s why a developer tools team was so appealing to me, and why I&rsquo;m so excited about what the next chapter will bring.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-11-12T16:40:57-08:00" pubdate data-updated="true">Nov 12<span>th</span>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/javascript/'>JavaScript</a>, <a class='category' href='/blog/categories/visual-studio/'>Visual Studio</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/10/28/ignoring-javascript-libraries-while-debugging/">
		
			Ignoring JavaScript Libraries While Debugging</a>
	</h2>
	<div class="entry-content">
		<p>Debugging front-end JavaScript can sometimes be painful.
When you rely on third-party libraries and frameworks, you find yourself stepping back and forth between the library&rsquo;s code and your own.
Most of the time, it&rsquo;s safe to assume that these third-party libraries are working correctly, so ignoring them can make it easier to keep your own code in your head.</p>

<p>Fortunately for us, Chrome, Firefox, and Internet Explorer each provide a way to ignore library code.</p>

<h3>Chrome</h3>

<p>In chrome, you can ignore a specific script by right clicking it in the &ldquo;Sources&rdquo; tab.</p>

<p><img src="http://itsananderson.blob.core.windows.net/post-images/chrome-blackbox-script.png" alt="" /></p>

<p>You can view the currently ignored patterns in the devtools settings page.</p>

<p><img src="http://itsananderson.blob.core.windows.net/post-images/chrome-blackbox-patterns.png" alt="" /></p>

<h3>Firefox</h3>

<p>Firefox is similar to Chrome, but you select the script in the &ldquo;Debugger&rdquo; tab, and click the eye icon to &ldquo;Toggle Black Boxing&rdquo;.</p>

<p><img src="http://itsananderson.blob.core.windows.net/post-images/firefox-blackbox-script.png" alt="" /></p>

<h3>Internet Explorer</h3>

<p>Internet explorer uses a different term, but the concept is the same.</p>

<p><img src="http://itsananderson.blob.core.windows.net/post-images/internet-explorer-mark-as-library.png" alt="" /></p>

<p>You can edit the exclusion list in:</p>

<p><code>%APPDATA%\..\LocalLow\Microsoft\F12\header\MyCode.json</code></p>

<p>or</p>

<p><code>%APPDATA%\..\Local\Microsoft\F12\header\MyCode.json</code></p>

<p>More info is available in the <a href="http://msdn.microsoft.com/en-us/library/ie/dn255007(v=vs.85).aspx#just_my_code">F12 tools documentation</a>.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-10-28T14:33:06-07:00" pubdate data-updated="true">Oct 28<span>th</span>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/debugging/'>Debugging</a>, <a class='category' href='/blog/categories/javascript/'>JavaScript</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/10/14/unpacking-a-git-database/">
		
			Unpacking a Git Database</a>
	</h2>
	<div class="entry-content">
		<p>While writing the <a href="/blog/2014/10/14/for-the-last-time-git-stores-snapshots-not-diffs/">previous post</a>, I discovered a cool Git command which I thought I&rsquo;d share.</p>

<p>When you clone a Git repository, most Git hosts will send you a packed version of the database.
This is much more efficient than sending the raw Git objects, because duplicate content can be compressed.</p>

<p>However, if you want to inspect the object database with a file browser, it&rsquo;s hard to do so, because the content stays packed in a single file.
Unpacking is pretty simple.</p>

<p>If you unpack the <code>.pack</code> file while it&rsquo;s in the <code>.git/object/pack</code> folder, Git won&rsquo;t do anything, because it concludes that it already has all the objects contained in that <code>.pack</code>.
However, if you move the <code>.pack</code> file somewhere else, you can unpack it into your repository&rsquo;s database.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>mv .git/object/pack/pack-*.pack .
</span><span class='line'>cat pack-*.pack | git unpack-objects
</span><span class='line'>rm pack-*.pack</span></code></pre></td></tr></table></div></figure>


<p>And there you have it.
Your packed objects are unpacked into <code>.git/objects/</code> folder.</p>

<p>This isn&rsquo;t something I recommend doing as a general practice, since it can take up significantly more space, but it&rsquo;s a useful thing to be able to do if you want to manually inspect your Git database.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-10-14T13:57:15-07:00" pubdate data-updated="true">Oct 14<span>th</span>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/git/'>Git</a>


</div>
	
</div>
</article>

<nav id="pagenavi">
    
    
        <a href="/blog/page/2/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2015

    Will Anderson

</footer>
	<script src="/javascripts/slash.js"></script>





<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-6776456-2', 'willi.am');
  ga('send', 'pageview');

</script>
</body>
</html>