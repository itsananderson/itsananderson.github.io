
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Will Anderson</title>
	<meta name="author" content="Will Anderson">

	
	<meta name="description" content="A couple of months ago, I had the opportunity to attend an API Hackday event in Bloomington.
At the event, I created some cool WordPress tools using &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Will Anderson" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.ico" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
	
</head>

<body>
	<header id="header" class="inner"><h1><a href="/">Will Anderson</a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/about">About</a></li>
	<li><a href="/plugins">WordPress Plugins</a></li>
	<li><a href="/node-modules">Node Modules</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/about">About</a></li>
	<li><a href="/plugins">WordPress Plugins</a></li>
	<li><a href="/node-modules">Node Modules</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="https://www.google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:willi.am">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		<a class="twitter" href="http://twitter.com/itsananderson" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/itsananderson" title="GitHub">GitHub</a>
		
    
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
    
	</div>
	<form class="search" action="https://www.google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:willi.am">
	</form>
</nav>

</header>
	
		
	
	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/12/15/new-plugin-wp-sendgrid/">
		
			New Plugin WP SendGrid</a>
	</h2>
	<div class="entry-content">
		<p>A couple of months ago, I had the opportunity to attend an <a href="http://www.apihackday.com/">API Hackday</a> event in Bloomington.
At the event, I created some cool WordPress tools using <a href="http://www.twilio.com/">Twilio</a>, but I ended up having some free time
(because Twilio&rsquo;s API is so easy to use!), so I wrote another plugin called <a href="http://www.itsananderson.com/plugins/wp-sendgrid/">WP SendGrid</a> using the SendGrid API.</p>

<p>This plugin extends WordPress&#8217; <code>wp_mail()</code> function to use SendGrid&rsquo;s API for all emails.
This was useful to me because I&rsquo;ve never been able to figure out how to get PHP to send emails in Windows.
In the past, when I&rsquo;ve worked on projects that send emails, I always had to upload it to a Linux server to test the email functionality.
If anything didn&rsquo;t work, I had to edit locally, then upload again to test it.
After a few iterations, that gets really old.
With WP SendGrid, I can send emails from my local machine, so debugging issues is <strong>much</strong> easier.</p>

<p>Fast-forward a few months.
This week I decided to spend a little more time polishing the plugin.
I&rsquo;d only spent about 45 minutes on it at the HackDay, which shows how simple it is to use SendGrid&rsquo;s API.
What I put together was enough to meet my needs, but I was using hardcoded values, and wasn&rsquo;t considering every edge-case.
After a few more hours of work, I had a complete plugin with a nice configuration UI.</p>

<p>If you develop for WordPress on Windows, or you have trouble sending email from PHP on another platform, you&rsquo;ll want to check this plugin out.
<a href="http://www.itsananderson.com/plugins/wp-sendgrid/">Visit the plugin page</a>.</p>

<p>If you run into any issues, let me know by submitting a ticket on the <a href="https://github.com/codeawhile/wp-sendgrid">GitHub</a> project.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-12-15T08:49:43-08:00" pubdate data-updated="true">Dec 15<span>th</span>, 2011</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/sendgrid/'>SendGrid</a>, <a class='category' href='/blog/categories/wordpress/'>WordPress</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/12/14/new-plugin-minimum-password-strength/">
		
			New Plugin: Minimum Password Strength</a>
	</h2>
	<div class="entry-content">
		<p>A couple of years ago I released a plugin called
&ldquo;<a href="/plugins/minimum-password-length/">Minimum Password Length</a>&rdquo;.
It&rsquo;s been pretty popular, mostly thanks to some
<a href="http://www.bloggingpro.com/archives/2009/08/23/wordpress-plugin-minimum-password-length/">link love</a>.
Ever since I released the plugin, I&rsquo;ve been thinking &ldquo;wouldn&rsquo;t it be nice to do something similar,
but harness the WordPress password strength meter?&rdquo;.
Well, I finally took the time to do that, and so we have the <a href="/plugins/minimum-password-strength/">Minimum Password Strength</a> plugin.</p>

<p>This is also a special plugin, because it&rsquo;s the first one I&rsquo;ve simultaneously published on GitHub and my site.
I plan on uploading my other plugins to GitHub at some point
(in fact, I uploaded <a href="/plugins/short-comment-filter/">Short Comment Filter</a> a few days ago),
but Minimum Password Strength is the first one that&rsquo;s there from the start.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-12-14T14:09:34-08:00" pubdate data-updated="true">Dec 14<span>th</span>, 2011</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/password/'>Password</a>, <a class='category' href='/blog/categories/security/'>Security</a>, <a class='category' href='/blog/categories/wordpress/'>WordPress</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/11/29/creating-a-custom-chrome-search-engine/">
		
			Creating a Custom Chrome Search Engine</a>
	</h2>
	<div class="entry-content">
		<p>Custom search engines in Chrome are a pretty cool feature.
For example, <a href="http://jetheis.com/blog/2011/11/28/accelerating-rose-hulman-schedule-lookup-with-google-chrome/">Jimmy Theis has a great blog post</a>
about using them to look up someone&rsquo;s Rose-Hulman class schedule. The one shortcoming I&rsquo;ve found is that you can&rsquo;t do any processing of the actual search term.
In other words, you have to blindly jump to the search engine URL without evaluating the actual query.</p>

<p>In the case of the Rose-Hulman lookup page, there are actually two parameters that it would be nice to query on.
The first is the username of the person you&rsquo;re looking up, and the second is which quarter (Fall, Winter, Spring, Summer) to show.
With Chrome&rsquo;s custom search engines, you can&rsquo;t specify multiple parameters, so you have to hardcode the quarter parameter (which is hardly convenient).
To resolve this problem, I wrote a simple PHP script that takes in the search a search query (like <code>anderswc 1</code> or <code>jetheis 201130</code>) and translates it to the correct schedule lookup page query (my fall schedule, or Jimmy&rsquo;s spring schedule last year).
Here&rsquo;s the script:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'>
</span><span class='line'><span class="k">function</span> <span class="nf">get_academic_year</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span> <span class="nb">intval</span><span class="p">(</span> <span class="nb">date</span><span class="p">(</span><span class="s1">&#39;n&#39;</span><span class="p">)</span> <span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">8</span> <span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">return</span> <span class="nb">date</span><span class="p">(</span> <span class="s1">&#39;Y&#39;</span> <span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">return</span> <span class="nb">intval</span><span class="p">(</span> <span class="nb">date</span><span class="p">(</span> <span class="s1">&#39;Y&#39;</span> <span class="p">)</span> <span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">function</span> <span class="nf">get_quarter</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="nv">$month</span> <span class="o">=</span> <span class="nb">intval</span><span class="p">(</span> <span class="nb">date</span><span class="p">(</span> <span class="s1">&#39;n&#39;</span> <span class="p">)</span> <span class="p">);</span>
</span><span class='line'>  <span class="nv">$day</span> <span class="o">=</span> <span class="nb">intval</span><span class="p">(</span> <span class="nb">date</span><span class="p">(</span> <span class="s1">&#39;j&#39;</span> <span class="p">)</span> <span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span> <span class="mi">6</span> <span class="o">==</span> <span class="nv">$month</span> <span class="o">||</span> <span class="mi">7</span> <span class="o">==</span> <span class="nv">$month</span> <span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">return</span> <span class="mi">40</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span> <span class="k">elseif</span> <span class="p">(</span> <span class="p">(</span> <span class="mi">8</span> <span class="o">&lt;=</span> <span class="nv">$month</span> <span class="o">&amp;&amp;</span> <span class="mi">10</span> <span class="o">&gt;=</span> <span class="nv">$month</span> <span class="p">)</span> <span class="o">||</span> <span class="p">(</span> <span class="mi">11</span> <span class="o">==</span> <span class="nv">$month</span> <span class="o">&amp;&amp;</span> <span class="mi">20</span> <span class="o">&gt;=</span> <span class="nv">$day</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">return</span> <span class="mi">10</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span> <span class="k">elseif</span> <span class="p">(</span> <span class="mi">11</span> <span class="o">&lt;=</span> <span class="nv">$month</span> <span class="o">||</span> <span class="mi">2</span> <span class="o">&gt;=</span> <span class="nv">$month</span> <span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">return</span> <span class="mi">20</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">return</span> <span class="mi">30</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="nv">$search</span> <span class="o">=</span> <span class="nv">$_GET</span><span class="p">[</span><span class="s1">&#39;search&#39;</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'><span class="nv">$parts</span> <span class="o">=</span> <span class="nb">explode</span><span class="p">(</span> <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="nv">$search</span> <span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="k">if</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">==</span> <span class="nb">count</span><span class="p">(</span> <span class="nv">$parts</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="nv">$term</span> <span class="o">=</span> <span class="nx">get_academic_year</span><span class="p">()</span> <span class="o">.</span> <span class="nx">get_quarter</span><span class="p">();</span>
</span><span class='line'><span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>  <span class="nv">$term</span> <span class="o">=</span> <span class="nv">$parts</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span> <span class="nb">strlen</span><span class="p">(</span> <span class="nv">$term</span> <span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="nv">$term</span> <span class="o">=</span> <span class="nx">get_academic_year</span><span class="p">()</span> <span class="o">.</span> <span class="nv">$term</span> <span class="o">.</span> <span class="s1">&#39;0&#39;</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span> <span class="k">elseif</span> <span class="p">(</span> <span class="nb">strlen</span><span class="p">(</span> <span class="nv">$term</span> <span class="p">)</span> <span class="o">==</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="nv">$term</span> <span class="o">=</span> <span class="nx">get_academic_year</span><span class="p">()</span> <span class="o">.</span> <span class="nv">$term</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="nv">$term</span> <span class="o">=</span> <span class="nb">intval</span><span class="p">(</span> <span class="nv">$term</span> <span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="nv">$url</span> <span class="o">=</span> <span class="s1">&#39;https://prodweb.rose-hulman.edu/regweb-cgi/reg-sched.pl?termcode=&#39;</span> <span class="o">.</span> <span class="nv">$term</span> <span class="o">.</span> <span class="s1">&#39;&amp;view=tgrid&amp;id1=&#39;</span> <span class="o">.</span> <span class="nv">$parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">.</span> <span class="s1">&#39;&amp;bt1=ID%2Username&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="nx">header</span><span class="p">(</span> <span class="s1">&#39;Location: &#39;</span> <span class="o">.</span> <span class="nv">$url</span> <span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now you can create a custom search engine to point to this script (I&rsquo;ve got a copy running at <a href="http://itsananderson.com/schedule.php">http://itsananderson.com/schedule.php</a>), and specify &ldquo;?search=%s&rdquo;.
For example, this is the custom search engine definition I have:</p>

<p><code>http://itsananderson.com/schedule.php?search=%s</code></p>

<p>Search syntax is pretty simple.</p>

<ul>
<li>&ldquo;&lt;username>&rdquo; to look up a user&rsquo;s current schedule.</li>
<li>&ldquo;&lt;username> &lt;quarter>&rdquo; to look up a user&rsquo;s schedule for a specific quarter this year.<br/>
Specify quarters as either 1, 2, 3, 4 or 10, 20, 30, 40</li>
<li>&ldquo;&lt;username> &lt;year>&lt;quarter>&rdquo; to look up a user&rsquo;s schedule for a specific quarter and academic year.<br/>
Quarters must be formatted with a trailing zero. Example: 201220 is Winter quarter, 2011-2012</li>
</ul>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-11-29T11:50:03-08:00" pubdate data-updated="true">Nov 29<span>th</span>, 2011</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/chrome/'>Chrome</a>, <a class='category' href='/blog/categories/rose-hulman/'>Rose-Hulman,</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/09/05/get-called-class-name-in-php/">
		
			Get Called Class Name in PHP</a>
	</h2>
	<div class="entry-content">
		<p>I posted a few months ago about <a href="http://www.itsananderson.com/2011/04/using-static-methods-in-wordpress-plugins/">using static methods in WordPress plugins</a>.
I&rsquo;ve used that method myself for the last few months, and I&rsquo;ve really grown to love the style of code that this technique produces.
One part, however, was a source of some pain: Inheritance.
This can be solved by utilizing PHP&rsquo;s <code>get_called_class()</code> function to get called class names in from your static functions.</p>

<p>To make a long story short, getting the actual class name of the current object in an instance method is easy, just call <code>get_class( $this )</code>.
The problem is, $this doesn&rsquo;t exist in a static method, and just calling get_class() returns the current class (basically the same as <strong>CLASS</strong>), which isn&rsquo;t helpful if you actually want the name of a child class.</p>

<h2>Why You Might Want to Get Called Class Names</h2>

<p>Consider a base class which has a <code>get_instance()</code> function, for creating an instance of the class, or returning an existing instance if it has already been instantiated.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">class</span> <span class="nc">Singleton</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">private</span> <span class="k">static</span> <span class="nv">$instance</span><span class="p">;</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">get_instance</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span> <span class="nb">is_null</span><span class="p">(</span> <span class="nx">self</span><span class="o">::</span><span class="nv">$instance</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="nx">self</span><span class="o">::</span><span class="nv">$instance</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Singleton</span><span class="p">();</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>        <span class="k">return</span> <span class="nx">self</span><span class="o">::</span><span class="nv">$instance</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">private</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>        <span class="c1">// Singleton constructor stuff</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h2>How to Get Called Class Names and Improve Extensibility</h2>

<p>This is great, but the problem arises when we try to extend that singleton class.
Ideally, the inherited get_instance() method would return an instance of the actual class, but with the above implementation, it would always return an instance of the Singleton class. Here&rsquo;s an alternative, which uses the get_called_class() function to get called class names.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">class</span> <span class="nc">Singleton</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">private</span> <span class="k">static</span> <span class="nv">$instances</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">get_instance</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>        <span class="nv">$class</span> <span class="o">=</span> <span class="nb">get_called_class</span><span class="p">();</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span> <span class="k">empty</span><span class="p">(</span> <span class="nx">self</span><span class="o">::</span><span class="nv">$instances</span><span class="p">[</span><span class="nv">$class</span><span class="p">]</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="nx">self</span><span class="o">::</span><span class="nv">$instances</span><span class="p">[</span><span class="nv">$class</span><span class="p">]</span> <span class="o">=</span> <span class="k">new</span> <span class="nv">$class</span><span class="p">();</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>        <span class="k">return</span> <span class="nx">self</span><span class="o">::</span><span class="nv">$instance</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">private</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>        <span class="c1">// Singleton constructor stuff</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">class</span> <span class="nc">Child</span> <span class="k">extends</span> <span class="nx">Singleton</span> <span class="p">{</span>
</span><span class='line'>    <span class="c1">// Child class stuff</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>You&rsquo;ll notice that there are a few changes here. First, the Singleton class now stores instances in an associative array, keyed by class name. Second, it uses get_called_class() to get the class on which this method was invoked. This means calling Child::get_instance() will return an instance of Child, not Singleton. Pretty sweet, huh?</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-09-05T13:09:43-07:00" pubdate data-updated="true">Sep 5<span>th</span>, 2011</time></div>
	<div class="tags">

</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/04/26/php-static-methods-in-wordpress-plugins/">
		
			PHP Static Methods in WordPress Plugins</a>
	</h2>
	<div class="entry-content">
		<p><p style="background-color: #faa; padding: 5px">
<strong>Update 5/18/2014 This is a 3 year old post, and I&rsquo;ve learned a lot in that time. Using this method to namespace your plugins makes it difficult to mock dependencies for unit tests. I leave this post up for posterity, but I no longer recommend this design pattern.</strong><p></p>

<p>This evening I was chatting with Nick Ohrn and I threw out an idea that I&rsquo;d been thinking about for a while. What if WordPress plugin developers used PHP static methods to namespace their plugins?</p>

<h2>An Example Without PHP Static Methods</h2>

<p>To understand what I&rsquo;m babbling on about, consider a very basic plugin that adds square brackets around post titles.</p>

<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="cm">/<em></span>
</span><span class='line'><span class="cm"> * Plugin Name: Add Brackets</span>
</span><span class='line'><span class="cm"> </em>/</span>
</span><span class='line'><span class="k">function</span> <span class="nf">ab_add_brackets</span><span class="p">(</span> <span class="nv">$title</span> <span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="s2">&quot;[</span><span class="si">$title</span><span class="s2">]&quot;</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="nx">add_filter</span><span class="p">(</span> <span class="s1">&#39;the_title&#39;</span><span class="p">,</span> <span class="s1">&#39;ab_add_brackets&#39;</span> <span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>It really doesn&rsquo;t get much simpler than that, but the problem is that there might be another plugin that uses the same prefix. Also, if you decide to change the prefix, you&rsquo;ll have to go through and change all of your hook and action registrations too. What a pain.</p>

<h2>Class Namespaces, but no PHP Static Methods</h2>

<p>The next option is to use a class as a namespacing tool. This is fairly common among more experienced WordPress developers.</p>

<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="cm">/<em></span>
</span><span class='line'><span class="cm"> * Plugin Name: Add Brackets</span>
</span><span class='line'><span class="cm"> </em>/</span>
</span><span class='line'><span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nb">class_exists</span><span class="p">(</span><span class="s1">&#39;Add_Brackets&#39;</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">class</span> <span class="nc">Add_Brackets</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">private</span> <span class="k">static</span> <span class="nv">$instance</span><span class="p">;</span>
</span><span class='line'>        <span class="k">private</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>            <span class="nx">add_filter</span><span class="p">(</span> <span class="s1">&#39;the_title&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span> <span class="nv">$this</span><span class="p">,</span> <span class="s1">&#39;add_brackets&#39;</span> <span class="p">)</span> <span class="p">);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>        <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">get_instance</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>            <span class="k">if</span> <span class="p">(</span> <span class="k">null</span> <span class="o">==</span> <span class="nx">self</span><span class="o">::</span><span class="nv">$instance</span> <span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                <span class="nx">self</span><span class="o">::</span><span class="nv">$instance</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Add_Brackets</span><span class="p">();</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>            <span class="k">return</span> <span class="nx">self</span><span class="o">::</span><span class="nv">$instance</span><span class="p">;</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>        <span class="k">public</span> <span class="k">function</span> <span class="nf">add_brackets</span><span class="p">(</span> <span class="nv">$title</span> <span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="k">return</span> <span class="s2">&quot;[</span><span class="si">$title</span><span class="s2">]&quot;</span><span class="p">;</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="nx">Add_Brackets</span><span class="o">::</span><span class="na">get_instance</span><span class="p">();</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></p>

<h2>Utilizing PHP Static Methods</h2>

<p>What I propose is developers use static methods instead. There&rsquo;s very little difference between a singleton class with instance methods and a class with static methods, and simply using static methods can simplify your code. Check out this example.</p>

<p><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="cm">/<em></span>
</span><span class='line'><span class="cm"> * Plugin Name: Add Brackets</span>
</span><span class='line'><span class="cm"> </em>/</span>
</span><span class='line'><span class="k">if</span> <span class="p">(</span> <span class="o">!</span><span class="nb">class_exists</span><span class="p">(</span><span class="s1">&#39;Add_Brackets&#39;</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">class</span> <span class="nc">Add_Brackets</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">start</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>            <span class="nx">add_filter</span><span class="p">(</span> <span class="s1">&#39;the_title&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span> <span class="nx"><strong>CLASS</strong></span><span class="p">,</span> <span class="s1">&#39;add_brackets&#39;</span> <span class="p">)</span> <span class="p">);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>        <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">add_brackets</span><span class="p">(</span> <span class="nv">$title</span> <span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="k">return</span> <span class="s2">&quot;[</span><span class="si">$title</span><span class="s2">]&quot;</span><span class="p">;</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="nx">Add_Brackets</span><span class="o">::</span><span class="na">start</span><span class="p">();</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></p>

<p>So that&rsquo;s that. All the advantages of namespacing with classes, with a small reduction in memory overhead (because you&rsquo;re passing around strings, rather than objects). Static methods are a PHP5 feature, but with PHP4 support being phased out in WordPress 3.2, this seems like a reasonable next step for WordPress developers to take.</p>

<p>What do you think? Are there any issues with this technique that I&rsquo;ve missed? Are there any improvements that could be made? Let me know in the comments!</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-04-26T13:16:52-07:00" pubdate data-updated="true">Apr 26<span>th</span>, 2011</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/wordpress/'>WordPress</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/04/16/wordcamp-seattle-slides-2011/">
		
			WordCamp Seattle Slides 2011</a>
	</h2>
	<div class="entry-content">
		<p>Here are my WordCamp Seattle slides, along with my code samples.</p>

<p>The slides are available as a PDF <a href="http://www.itsananderson.com/wcsea.pdf" title="">here</a>.</p>

<p>The WP_Ajax class is available as a zip file <a href="http://www.itsananderson.com/wp-content/uploads/wp-ajax.zip" title="">here</a>.</p>

<p>The Simple Post Ratings plugin is available (also as a zip file) <a href="http://www.itsananderson.com/wp-content/uploads/simple-post-ratings.zip">here</a>.</p>

<p>Here&rsquo;s a link to my WordCamp Seattle video on <a href="http://wordpress.tv/2011/05/06/will-anderson-using-ajax-in-plugins-and-themes/">WordPress.tv</a>.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-04-16T13:28:00-07:00" pubdate data-updated="true">Apr 16<span>th</span>, 2011</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/wordpress/'>WordPress</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/02/24/creating-xampp-alias-directories/">
		
			Creating XAMPP Alias Directories</a>
	</h2>
	<div class="entry-content">
		<p>If you&rsquo;ve read my post on <a href="/blog/2009/01/14/wamp-alias-directories/">adding aliases to WampServer</a>,
you may be curious about how to add aliases to XAMPP.
While WampServer has a nice (if somewhat buggy) tool for adding Apache aliases, XAMPP does not.
Fortunately, creating XAMPP alias directories by hand is pretty easy.</p>

<h2>Preparing to Create XAMPP Alias Directories</h2>

<p>The first thing you&rsquo;ll want to do is add an alias directory to your XAMPP install.
If you&rsquo;re running Windows, create the following folder.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>C:\xampp\apache\conf\alias</span></code></pre></td></tr></table></div></figure>


<p>Next, you&rsquo;ll need to change your Apache configuration file.
You can find it under <code>C:\xampp\apache\conf\httpd.conf</code>.
To make changes, you&rsquo;ll need to edit it as an administrator.
If you&rsquo;re running Windows Vista or above, your best bet is to open Notepad as an administrator and then open httpd.conf.
To open Notepad (or any other application) as an administrator, right-click on it and select &ldquo;Run as administrator&rdquo;.
You can also launch Notepad as an administrator from the start menu with <code>Ctrl+Shift+Enter</code> while Notepad is selected.</p>

<p>Once you&rsquo;ve opened httpd.conf, add the following to the end and save it.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Include "conf/alias/*"</span></code></pre></td></tr></table></div></figure>


<p>Now Apache will look in the alias folder for more configuration files.
This way you can add an alias by simply adding a new configuration file to the conf/alias/ folder.</p>

<h2>Creating XAMPP Alias Directories</h2>

<p>Let&rsquo;s add some XAMPP alias directories.
Suppose you want to add an alias called &ldquo;dev&rdquo;.
First, download <a href="/uploads/xampp-alias-template.txt">this alias template file</a> and place it in the alias folder.
Rename it to &ldquo;dev.conf&rdquo; (or whatever you called your alias).
You&rsquo;ll need to edit the template (again, as an administrator) and replace &ldquo;DIRECTORY&rdquo; (it&rsquo;s there twice) with the path to the alias and &ldquo;ALIAS&rdquo; with the name of your alias.
In our example, it looks something like this:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;directory "c:\users\foo\programming\dev"&gt;
</span><span class='line'>    #
</span><span class='line'>    # Possible values for the Options directive are "None", "All",
</span><span class='line'>    # or any combination of:
</span><span class='line'>    #   Indexes Includes FollowSymLinks SymLinksifOwnerMatch ExecCGI MultiViews
</span><span class='line'>    #
</span><span class='line'>    # Note that "MultiViews" must be named *explicitly* --- "Options All"
</span><span class='line'>    # doesn't give it to you.
</span><span class='line'>    #
</span><span class='line'>    # The Options directive is both complicated and important.  Please see
</span><span class='line'>    # http://httpd.apache.org/docs/2.2/mod/core.html#options
</span><span class='line'>    # for more information.
</span><span class='line'>    #
</span><span class='line'>    Options Indexes FollowSymLinks Includes ExecCGI
</span><span class='line'>
</span><span class='line'>    #
</span><span class='line'>    # AllowOverride controls what directives may be placed in .htaccess files.
</span><span class='line'>    # It can be "All", "None", or any combination of the keywords:
</span><span class='line'>    #   Options FileInfo AuthConfig Limit
</span><span class='line'>    #
</span><span class='line'>    AllowOverride All
</span><span class='line'>
</span><span class='line'>    #
</span><span class='line'>    # Controls who can get stuff from this server.
</span><span class='line'>    #     Order allow,deny
</span><span class='line'>    Allow from all
</span><span class='line'>&lt;/Directory&gt;
</span><span class='line'>
</span><span class='line'>Alias /dev "C:\users\foo\programming\dev"</span></code></pre></td></tr></table></div></figure>


<p>Restart Apache (you can do so from the XAMPP control panel) and check out <a href="http://localhost/dev.">http://localhost/dev.</a>
You can repeat this process with other aliases to add more XAMPP alias directories.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-02-24T12:35:42-08:00" pubdate data-updated="true">Feb 24<span>th</span>, 2011</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/apache/'>Apache</a>, <a class='category' href='/blog/categories/xampp/'>XAMPP</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/02/19/wordpress-custom-post-statuses/">
		
			WordPress Custom Post Statuses</a>
	</h2>
	<div class="entry-content">
		<p>WordPress displays post states on post list tables to indicate that a post has a special condition. It&rsquo;s possible to hook into that list of states and a WordPress custom post status. If you want to make certain posts stand out, or need a custom way to categorize your posts, this is simple way to do it.</p>

<p>The following screenshot illustrates some of the default post states.</p>

<p><img src="//itsananderson.blob.core.windows.net/post-images/wordpress-post-status-samples.png" alt="Before adding WordPress Custom Post Statuses" /></p>

<h2>Adding a new WordPress Custom Post Status</h2>

<p>Adding your own states is actually pretty easy. The following code snippet should get you going in the right direction.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">class</span> <span class="nc">My_Custom_Post_State</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">function</span> <span class="nf">My_Custom_Post_State</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">__construct</span><span class="p">();</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">function</span> <span class="nf">__construct</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">add_filter</span><span class="p">(</span> <span class="s1">&#39;display_post_states&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span> <span class="nv">$this</span><span class="p">,</span> <span class="s1">&#39;custom_post_state&#39;</span> <span class="p">)</span> <span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">function</span> <span class="nf">custom_post_state</span><span class="p">(</span> <span class="nv">$states</span> <span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">global</span> <span class="nv">$post</span><span class="p">;</span>
</span><span class='line'>    <span class="nv">$show_custom_state</span> <span class="o">=</span> <span class="k">null</span> <span class="o">!==</span> <span class="nx">get_post_meta</span><span class="p">(</span> <span class="nv">$post</span><span class="o">-&gt;</span><span class="na">ID</span><span class="p">,</span> <span class="s1">&#39;_some_costom_field&#39;</span> <span class="p">);</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span> <span class="nv">$show_custom_state</span> <span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="nv">$states</span><span class="p">[]</span> <span class="o">=</span> <span class="nx">__</span><span class="p">(</span> <span class="s1">&#39;Custom State&#39;</span> <span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">return</span> <span class="nv">$states</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="k">new</span> <span class="nx">My_Custom_Post_State</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Result of Adding a WordPress Custom Post Status</h2>

<p>Assuming you have code elsewhere that is adding the custom field to posts, you&rsquo;ll see something like this.</p>

<p><img src="//itsananderson.blob.core.windows.net/post-images/custom-state-sample.png" alt="After Adding WordPress Custom Post Statuses" /></p>

<p>If you added code to add a custom field called <code>_some_custom_field</code> to certain posts, those posts would show up with the &lsquo;Custom State&rsquo; status. You could further customize this example to check the value of the custom meta field, and change the post status based on that field.</p>

<p>That&rsquo;s pretty much it. Obviously there are more useful examples, but this should be enough to get you started.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-02-19T12:59:07-08:00" pubdate data-updated="true">Feb 19<span>th</span>, 2011</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/wordpress/'>WordPress</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/02/07/time-honored-destiny/">
		
			Time Honored Destiny</a>
	</h2>
	<div class="entry-content">
		<p>Part of my Science Fiction course requires me to write a flash fiction. It turned out well enough that I&rsquo;m not embarrassed to let people read it, so here it is.</p>

<blockquote>

<p style="text-align: center; font-weight: bold;">Time Honored Destiny</p>

It had been four months since the event. Four months of hell. If Thomas hadn&#8217;t started his project years before the outbreak, he would have given up weeks ago. The world had been shocked by how quickly the sickness spread. Thomas didn&#8217;t have time to be shocked. He just kept working. Before the sickness everyone had told him time travel wasn&#8217;t possible. They tried to convince him that he was wasting his time. He wondered how their opinion might change if they knew that his work might be the salvation of the human race.

&#8220;It&#8217;s finally ready.&#8221; Thomas glanced at John, the only other person immune to the sickness. He was glad to have a companion to listen to his ramblings but wished it was someone who could respond. John was completely paralyzed. His body was so horribly disfigured it was almost unrecognizable as human. Thomas had found him a week after the first outbreak while looking for supplies at a nearby hospital. At first he&#8217;d thought the disfigurement was some strange manifestation of the sickness, but the hospital records said he&#8217;d been in a bus accident. He had never been identified by the hospital, so Thomas christened him John Doe. At the time he&#8217;d laughed at the generic name and promised to come up with something better, but with all of his creativity being poured into his work he never had the time.

The machine only had room for Thomas, but if he was successful he would change history for both of them. John had been crippled before the outbreak, but by changing the past, Thomas could at least ensure he&#8217;d receive the medical attention he needed.

Trembling with excitement, Thomas calibrated the machine to place him across the street from the CDC headquarters in Atlanta. He gave himself a month before the initial outbreak. Surely that would be enough time to prevent the world&#8217;s doom. All they had to do was find patient zero. By seizing one improperly sanitized needle from a washed up heroin junkie they could prevent the end of humanity.

&#8220;Wish me luck.&#8221; He murmured. The countdown commenced. 3&#8230;2&#8230;1&#8230;

After a few instants he immerged, dizzy and disoriented. He spotted the entrance to the CDC and stepped into the street. In his excitement he didn&#8217;t even see the bus as it raced toward him.
</blockquote>


<p>That&rsquo;s it. Whatcha think?</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-02-07T19:51:46-08:00" pubdate data-updated="true">Feb 7<span>th</span>, 2011</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/rose-hulman/'>Rose-Hulman</a>, <a class='category' href='/blog/categories/writing/'>Writing</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/01/28/php-code-completion-for-globals/">
		
			PHP Code Completion for Globals</a>
	</h2>
	<div class="entry-content">
		<p>Any IDE worth using provides code completion suggestions as you type. For example, this is what Netbeans suggests when you type &ldquo;wp_&rdquo; inside a WordPress project.</p>

<p><img src="//itsananderson.blob.core.windows.net/post-images/netbeans-code-completion.png" alt="" /></p>

<p>The problem with dynamically typed languages like PHP is that it can be difficult for the IDE to provide PHP code completion for variables that have been defined in the global scope. You can help your IDE by providing it with hints about the types of objects.</p>

<h2>Concrete PHP Code Completion Example</h2>

<p>The example I&rsquo;ll use is the $wpdb global variable defined in WordPress. It contains an instance of the &ldquo;wpdb&rdquo; class, which wraps around the database connection and provides a bunch of helper methods. It&rsquo;s defined in the global scope, so when you use it in another file, your IDE has no clue what type it is. This means it can&rsquo;t provide any PHP code completion.</p>

<p>If you add the following code snippet to the beginning of your function (or file, if applicable), it will tell your IDE the type of the $wpdb variable without actually affecting the execution of your code.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">if</span> <span class="p">(</span> <span class="k">false</span> <span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nv">$wpdb</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">wpdb</span><span class="p">();</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>As you can see, the code inside the if statement will never execute, but every IDE I&rsquo;ve ever used isn&rsquo;t smart enough to figure that out, so they assume the type of the $wpdb variable is now wpdb.</p>

<p>When you add the snippet, you get PHP code completion suggestions that look something like this:</p>

<p><img src="//itsananderson.blob.core.windows.net/post-images/netbeans-globals-code-completion.png" alt="" /></p>

<p>The nice thing about doing this is that if you forget to remove the code snippet, it won&rsquo;t break anything. You&rsquo;ll lose a CPU cycle or two evaluating the if statement, but your code will run without any problems. It&rsquo;s probably a good idea to remove it before you release your code, though, since it might be confusing to anyone who looks at it later.</p>

<p><strong>Update</strong>: You can also do this with PHPDoc.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="sd">/**</span>
</span><span class='line'><span class="sd"> * @var $wpdb wpdb</span>
</span><span class='line'><span class="sd"> */</span>
</span><span class='line'><span class="k">global</span> <span class="nv">$wpdb</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>This also gives your IDE a hint about what type $wpdb has, and doesn&rsquo;t polute your code with a bunch of non-executing statements.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-01-28T19:57:07-08:00" pubdate data-updated="true">Jan 28<span>th</span>, 2011</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/php/'>PHP</a>


</div>
	
</div>
</article>

<nav id="pagenavi">
    
        <a href="/blog/page/5/" class="prev">Prev</a>
    
    
        <a href="/blog/page/7/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2015

    Will Anderson

</footer>
	<script src="/javascripts/slash.js"></script>





<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-6776456-2', 'willi.am');
  ga('send', 'pageview');

</script>
</body>
</html>